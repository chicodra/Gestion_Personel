<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:p="http://primefaces.org/ui">

<h:head>

</h:head>
<h:form>

	<p:messages showDetail="false" />
	<p:panel header="Prise en charge mot de passe"
		style="margin-bottom:50px;margin-left:450px;margin-right:500px;margin-top:50px">
		<h:panelGrid columns="1">
			
			<p:outputLabel for="motdepasse" value="Mot de Passe :" />
			<h:inputSecret id="motdepasse" value="#{userBean.user.password}"
				validator="#{userBean.VerifierPws}" required="true"/>
				
			<p:outputLabel for="nouvmotdepasse" value="Nouveau mot de passe :" />
			<h:inputSecret id="nouvmotdepasse" value="#{userBean.user.password}"
				binding="#{composantMotDePasse}" size="20" maxlength="20"
				required="true">
				<f:ajax event="blur" execute="nouvmotdepasse confirmation"
					render="motDePasseMessage confirmationMessage" />
			</h:inputSecret>
			<h:message id="motDePasseMessage" for="nouveaumotdepasse"
				errorClass="erreur" />

		
			<p:outputLabel for="nouvmotdepasse" value="Confirmer mot de passe :" />
			<h:inputSecret id="confirmation" value="#{userBean.user.password}"
				size="20" maxlength="20">

				<f:validator validatorId="userBean" />
				<f:attribute name="composantMotDePasse"
					value="#{composantMotDePasse}" />
				<f:ajax event="blur" execute="nouvmotdepasse confirmation"
					render="motDePasseMessage confirmationMessage" />
			</h:inputSecret>
			<h:message id="confirmationMessage" for="confmotdepasse"
				errorClass="erreur" />
			<h:panelGroup
				style="display:block; text-align:center;margin-left:90px">
				<p:commandButton value="Enregistrer" action="#{userBean.updatePsw}"
					type="submit" ajax="false" />
			</h:panelGroup>
		</h:panelGrid>
	</p:panel>
</h:form>


</html>